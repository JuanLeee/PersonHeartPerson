import SwiftProcessing
import UIKit
import Foundation

class ExampleSketch: Sketch,SketchDelegate {



    var r:Float = 0
    var img: Image? = nil
    var modelShape: ModelNode? = nil
    var bird: ModelNode? = nil
    var skull: ModelNode? = nil
    var cam: Camera3D? = nil
    
    func setup() {
        create3D()
        modelShape = loadModelObj("Sting-Sword-lowpoly", "obj")
        bird = loadModelObj("bird", "obj")
        skull = loadModelObj("skull", "obj")
        cam = createCamera3D()
        cam!.perspective(100,100,10,1000)
        setCamera(cam!)
    }

    func draw() {
        fill(255,0,0)
        box(7,7,7)
        cam!.lookAt(CGFloat(sin(r/60)*50) ,0,0)
        cam!.setPosition(0,0,250)
        r += 0.05
        push()
//               texture(img!)
        fill(0,0,255)

        rotateY(Float(r))
        rotateX(Float(r))
        rotateZ(Float(r))
        translate(0,-10,0)
        model(skull!)
        rotateX(Float(r))
        translate(0,10,0)
        translate(10,0,0)
        rotateY(Float(r))
        fill(0,255,255)
        torus(5,5)
        translate(0,-10,0)
        box(5,5,5)
            rotateZ(Float(r))
            translate(0,-10,0)
            model(bird!)
        pop()
        translate(10,0,0)
        rotateX(Float(r))
        rotateY(Float(r))
        //ambientMaterial(UIColor(red: 255,green: 102, blue:94,alpha:10))
        box(7,7,7)


    }
}
